<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <title>Sentinel Settings</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <link rel="stylesheet" href="./vendor/reset.min.css" />
  <link rel="stylesheet" href="./css/styles.css" />

  <!-- ✅ Account Settings + Important Settings 동일 패널 스타일 -->
  <style>
    /* ===== Settings: Account/Important panel ===== */
    .settings-panel {
      background: #eaf2ff;           /* 연한 블루 패널 */
      border-radius: 18px;
      border: 1px solid rgba(15, 23, 42, 0.06);
    }

    /* card-body 상단 여백 살짝 */
    .settings-panel .card-body {
      padding-top: 8px;
    }

    .settings-row {
      padding: 14px 0 18px;
    }

    .settings-row + .settings-row {
      border-top: 1px solid rgba(15, 23, 42, 0.08);
    }

    .settings-row-head {
      display: flex;
      align-items: baseline;
      gap: 14px;
      margin-bottom: 10px;
    }

    .settings-row-title {
      font-weight: 700;
      font-size: 14px;
      color: #0f172a;
    }

    .settings-row-desc {
      font-size: 12px;
      color: rgba(15, 23, 42, 0.55);
    }

    .settings-row-controls {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .settings-input-group {
      flex: 1;
      display: flex;
      align-items: center;
      border-radius: 10px;
      overflow: hidden;
      background: #ffffff;
      border: 1px solid rgba(15, 23, 42, 0.12);
      height: 44px;
    }

    .settings-input {
      flex: 1;
      height: 44px;
      border: 0;
      outline: 0;
      padding: 0 14px;
      font-size: 14px;
      background: transparent;
    }

    .settings-action-btn {
      height: 44px;
      padding: 0 18px;
      border: 0;
      border-left: 1px solid rgba(15, 23, 42, 0.12);
      background: #e5e7eb; /* 버튼 회색 */
      font-weight: 700;
      cursor: pointer;
      white-space: nowrap;
    }

    .settings-action-btn:active {
      transform: translateY(1px);
    }

    .settings-ok {
      width: 34px;
      text-align: center;
      font-size: 28px;
      font-weight: 900;
      color: #22c55e; /* 체크 초록 */
      line-height: 1;
    }

    /* Important Information Settings 안쪽 레이아웃(인라인 스타일 제거 목적) */
    .ii-group-title {
      font-weight: 700;
      font-size: 14px;
      color: #0f172a;
      margin: 10px 0 8px;
    }

    .ii-inline-gap {
      display: inline-block;
      width: 16px;
    }

    .ii-divider {
      opacity: .2;
      margin: 16px 0;
      border: 0;
      border-top: 1px solid rgba(15, 23, 42, 0.2);
    }

    .ii-checks {
      display: flex;
      gap: 18px;
      flex-wrap: wrap;
    }

    @media (max-width: 600px) {
      .settings-row-head {
        flex-direction: column;
        gap: 6px;
      }
      .settings-action-btn {
        padding: 0 12px;
      }
    }
  </style>
</head>

<body class="sentinel-body">
  <header class="top-nav">
    <div class="top-nav-left">
      <div class="top-logo">
        <span class="top-logo-main">SENTINEL</span>
        <span class="top-logo-sub">DASHBOARD</span>
      </div>

      <nav class="top-menu">
        <a class="top-menu-item" href="./dashboard.html">Dashboard</a>
        <a class="top-menu-item" href="./report.html">Report</a>
        <a class="top-menu-item" href="./logs.html">Logs</a>
        <a class="top-menu-item" href="./reason.html">Analysis</a>
        <a class="top-menu-item" href="./network.html">Network</a>
        <a class="top-menu-item" href="./score.html">Score</a>
        <a class="top-menu-item top-menu-item--active" href="./settings.html">Settings</a>
      </nav>
    </div>

    <div class="top-nav-right">
      <span class="top-updated-label">UPDATED:</span>
      <span id="top-updated-at" class="top-updated-value">--:--:-- KST</span>

      <button id="btn-refresh" class="btn btn-small" type="button">Refresh</button>
      <button id="btn-logout" class="btn btn-small btn-ghost" type="button">Logout</button>
    </div>
  </header>

  <main class="dashboard-layout">

    <!-- ✅ Account Settings -->
    <section class="card settings-panel">
      <div class="card-header">
        <h3 class="card-title">Account Settings</h3>
      </div>

      <div class="card-body">
        <!-- ID Resetting -->
        <div class="settings-row">
          <div class="settings-row-head">
            <div class="settings-row-title">아이디 재설정 / ID Resetting</div>
            <div class="settings-row-desc">Reset the ID used to log in.</div>
          </div>

          <div class="settings-row-controls">
            <div class="settings-input-group">
              <input
                id="account-new-id"
                class="settings-input"
                type="text"
                name="account_new_id"
                placeholder=""
                autocomplete="off"
              />
              <button id="btn-change-id" class="settings-action-btn" type="button">Change ID</button>
            </div>
            <span id="account-id-ok" class="settings-ok" aria-label="ok" title="Saved" hidden>✓</span>
          </div>
        </div>

        <!-- PW Resetting -->
        <div class="settings-row">
          <div class="settings-row-head">
            <div class="settings-row-title">비밀번호 재설정 / PW Resetting</div>
            <div class="settings-row-desc">Reset the PW used to log in.</div>
          </div>

          <div class="settings-row-controls">
            <div class="settings-input-group">
              <input
                id="account-new-pw"
                class="settings-input"
                type="password"
                name="account_new_pw"
                placeholder=""
                autocomplete="new-password"
              />
              <button id="btn-change-pw" class="settings-action-btn" type="button">Change PW</button>
            </div>
            <span id="account-pw-ok" class="settings-ok" aria-label="ok" title="Saved" hidden>✓</span>
          </div>
        </div>
      </div>
    </section>

    <!-- ✅ Important Information Settings : Account 패널과 동일한 스타일 적용 -->
    <section class="card settings-panel">
      <div class="card-header">
        <h3 class="card-title">Important Information Settings</h3>
        <span class="card-subtitle">서버 정책(모든 요청에 영향)</span>
      </div>

      <div class="card-body">
        <div class="settings-row">
          <div class="ii-group-title">대응 방법 / Response Method</div>

          <label><input type="radio" name="response_method" value="mask"> 마스킹 / Masking</label>
          <span class="ii-inline-gap"></span>
          <label><input type="radio" name="response_method" value="allow"> 허용 / Allow</label>
          <span class="ii-inline-gap"></span>
          <label><input type="radio" name="response_method" value="block"> 차단 / Blocking</label>

          <hr class="ii-divider" />

          <div class="ii-group-title">LLM Service Settings</div>
          <div class="ii-checks">
            <label><input type="checkbox" id="llm-gpt"> GPT</label>
            <label><input type="checkbox" id="llm-gemini"> Gemini</label>
            <label><input type="checkbox" id="llm-claude"> Claude</label>
            <label><input type="checkbox" id="llm-deepseek"> Deepseek</label>
            <label><input type="checkbox" id="llm-groq"> Groq</label>
          </div>

          <hr class="ii-divider" />

          <div class="ii-group-title">MCP Service Settings</div>
          <div class="ii-checks">
            <label><input type="checkbox" id="mcp-gpt-desktop"> GPT Desktop</label>
            <label><input type="checkbox" id="mcp-claude-desktop"> Claude Desktop</label>
            <label><input type="checkbox" id="mcp-vscode"> VSCode (copilot)</label>
          </div>
        </div>
      </div>
    </section>

    <div style="display:flex; justify-content:flex-end; gap:10px;">
      <button id="btn-save" class="btn" type="button">Save</button>
    </div>
  </main>

  <script src="./js/api.js"></script>
  <script src="./js/settings.js"></script>
</body>
</html>
